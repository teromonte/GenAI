services:
  newscenter-api:
    # Build the image using the Dockerfile in the current directory
    build: . 
    
    # Map port 8000 on your Windows machine to port 8000 inside the container
    ports:
      - "8000:8000"
    
    # Load environment variables from your .env file
    # This passes your GROQ_API_KEY securely to the container
    env_file:
      - .env
    
    # Mount volumes (Shared Folders)
    # 1. Persist the Vector Database:
    #    Maps your local 'chroma_db' folder to '/app/chroma_db' inside the container.
    #    This means the container uses the data you already ingested!
    volumes:
      - ./chroma_db:/app/chroma_db